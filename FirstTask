import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class Main {
        public static void main(String[] args) {
            String fileName = "input.txt";
            List<Person> listOfPersons = new ArrayList<>();
            String newString;
            try {
                BufferedReader reader = new BufferedReader(new FileReader(fileName));
                int n = Integer.parseInt(reader.readLine());//количество записей
                    for (int i = 0; i<n; i++){
                        newString = reader.readLine();
                        listOfPersons.add(new Person(newString));
                     }
                reader.close();
                for(Person person : listOfPersons){
                    System.out.println(person.sixthStep+" ");
                }

          }

            catch (IOException e) {
              throw new RuntimeException(e);
          }


        }

            public static class Person {
               private String sixthStep;

                public Person(String stringOfPerson){
                            String[] data =     stringOfPerson.split(",");
                            String surname =    data[0];
                            String name =       data[1];
                            String lastName =   data[2];
                            String dd =         data[3];
                            String mm =         data[4];
                        long firstStep   = (surname+name+lastName).chars().distinct().count();
                        long secondStep  = ((dd+mm).chars().map(c -> Character.digit(c, 10)).sum())* 64L;
                        long thirdStep   = (surname.toUpperCase().charAt(0) - 64)*256;// в ASCII символ "A" находится на 65 позиции
                        long fourthStep  = firstStep + secondStep + thirdStep;
                        String fifthStep = (Integer.toHexString(Math.toIntExact(fourthStep))).toUpperCase();
                        sixthStep = fifthStep.substring(fifthStep.length()-3);
                    }

            }
        }
